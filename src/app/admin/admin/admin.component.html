
<select [(ngModel)]="selectedTournamentId" (change)="loadTeams()">
  <option *ngFor="let torneo of torneos" [value]="torneo.id">{{ torneo.nombre }}</option>
</select>

<div class="p-4">
  <label>D√≠a de la semana:</label>
<select [(ngModel)]="dia">
  <option *ngFor="let d of diasDisponibles" [value]="d">{{ d }}</option>
</select>

<label>Jornada:</label>
<input type="number" [(ngModel)]="jornada" placeholder="Ej. 1" />

<label>Match date:</label>
<input type="date" [(ngModel)]="matchDate" />

<div *ngFor="let v of versus; let i = index">
  <select [(ngModel)]="v.equipo1Id">
    <option *ngFor="let t of teams" [ngValue]="t.id">{{ t.name }}</option>
  </select>

    <span>vs</span>

    <select [(ngModel)]="v.equipo2Id">
    <option *ngFor="let t of teams" [ngValue]="t.id">{{ t.name }}</option>
  </select>
</div>

  <button (click)="addVersus()" class="bg-blue-500 text-white px-2 py-1 mr-2">
    + Agregar
  </button>

  <button (click)="submit()" class="bg-green-500 text-white px-2 py-1 mr-2">
    Guardar / Descargar
  </button>

  <!-- üëâ Bot√≥n para descargar directamente lo del endpoint -->
  <button (click)="downloadFromApi()" class="bg-purple-600 text-white px-2 py-1">
    Descargar Roster
  </button>

  <button (click)="uploadToBackend()" class="bg-purple-600 text-white px-2 py-1">
    Actualizar backend
  </button>
</div>


<h2>Lista de Partidos</h2>

<table border="1" cellpadding="5" cellspacing="0">
  <thead>
    <tr>
      <th>ID</th>
      <th>Equipo 1</th>
      <th>Equipo 2</th>
      <th>Goles</th>
      <th>D√≠a</th>
      <th>Torneo</th>
      <th>Acciones</th>
      <th>Mostrar</th>

    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let partido of partidos">
      <td>{{ partido.id }}</td>
      <td>{{ partido.equipo1 }}</td>
      <td>{{ partido.equipo2 }}</td>
      <td>{{ partido.g1 ?? '-' }} : {{ partido.g2 ?? '-' }}</td>
      <td>{{ partido.dia }}</td>
      <td>{{ partido.torneoId }}</td>
      <td>
        <button (click)="deletePartido(partido.id)">üóëÔ∏è Eliminar</button>
      </td>
       <td>
        <button (click)="mostrarinfo(partido.id)">Revisar </button>
      </td>
    </tr>
  </tbody>
</table>


<div *ngIf="selectedMatch" class="mt-4">
  <h3>Informaci√≥n del partido</h3>

  <!-- ‚úÖ Table view -->
  <table border="1" cellpadding="5">
    <tr>
      <th>ID</th>
      <th>Equipo 1</th>
      <th>Equipo 2</th>
      <th>Goles 1</th>
      <th>Goles 2</th>
      <th>Desempate</th>
      <th>D√≠a</th>
      <th>Torneo ID</th>
      <th>Jornada</th>

    </tr>
    <tr>
      <td>{{ selectedMatch.id }}</td>
      <td>{{ selectedMatch.equipo1 }}</td>
      <td>{{ selectedMatch.equipo2 }}</td>
      <td>{{ selectedMatch.g1 || '-' }}</td>
      <td>{{ selectedMatch.g2 || '-' }}</td>
      <td>{{ selectedMatch.desempate }}</td>
      <td>{{ selectedMatch.dia }}</td>
      <td>{{ selectedMatch.torneoId }}</td>
      <td>{{ selectedMatch.jornada }}</td>

    </tr>
  </table>

<h3>Partido transformado:</h3>
<pre>{{ transformedJSON }}</pre>
</div>

<div *ngIf="plantelesFiltrados.length > 0">
  <h3>Planteles del partido</h3>
  <table border="1" cellpadding="5">
    <tr>
      <th>Equipo</th>
      <th>Jugador</th>
      <th>N√∫mero</th>
      <th>Goles</th>
      <th>Asistencia</th>
    </tr>
    <tr *ngFor="let jugador of plantelesFiltrados">
      <td>{{ jugador.teamName }}</td>
      <td>{{ jugador.name }}</td>
      <td>{{ jugador.dorsal }}</td>
      <td>{{ jugador.goles }}</td>
      <td>{{ jugador.asistencia ? 'S√≠' : 'No' }}</td>
    </tr>
  </table>

  <h4>JSON de planteles:</h4>
  <pre>{{ plantelesJSON }}</pre>
</div>
